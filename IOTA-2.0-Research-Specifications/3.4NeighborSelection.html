<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="IOTA Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="IOTA Wiki Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="IOTA Wiki" href="/opensearch.xml">
<link rel="preconnect" href="${matomoUrl}">
<script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var a="https://matomo.antonionardella.it/";_paq.push(["setTrackerUrl",a+"matomo.php"]),_paq.push(["setSiteId","6"]);var e=document,t=e.createElement("script"),p=e.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src=a+"matomo.js",p.parentNode.insertBefore(t,p)}()</script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">3.4 Neighbor Selection | IOTA Wiki</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://wiki.iota.org/IOTA-2.0-Research-Specifications/3.4NeighborSelection"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-IOTA-Research-Specifications-current"><meta data-react-helmet="true" property="og:title" content="3.4 Neighbor Selection | IOTA Wiki"><meta data-react-helmet="true" name="description" content="This page explains how nodes find their neighbors and connect to them, a process that we call &quot;peering&quot;. It allows nodes work efficiently without disrupting the actual ledger state."><meta data-react-helmet="true" property="og:description" content="This page explains how nodes find their neighbors and connect to them, a process that we call &quot;peering&quot;. It allows nodes work efficiently without disrupting the actual ledger state."><meta data-react-helmet="true" name="keywords" content="neighbors,eclipse,mana,public salt,hash chain,attacker"><meta data-react-helmet="true" property="og:image" content="https://wiki.iota.org/img/logo/Coordicide_Logo_Black.png"><meta data-react-helmet="true" name="twitter:image" content="https://wiki.iota.org/img/logo/Coordicide_Logo_Black.png"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://wiki.iota.org/IOTA-2.0-Research-Specifications/3.4NeighborSelection"><link data-react-helmet="true" rel="alternate" href="https://wiki.iota.org/IOTA-2.0-Research-Specifications/3.4NeighborSelection" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://wiki.iota.org/IOTA-2.0-Research-Specifications/3.4NeighborSelection" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f27d1df1.css">
<link rel="preload" href="/assets/js/runtime~main.126de949.js" as="script">
<link rel="preload" href="/assets/js/main.373e6c57.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="IOTA Wiki Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo_dark.svg" alt="IOTA Wiki Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div></a><a class="navbar__item navbar__link" href="/learn/about-iota/an-introduction-to-iota"><div class="link"><div class="link__body"><div class="link__label">Learn</div></div></div></a><a class="navbar__item navbar__link" href="/participate/support-the-network/about-nodes"><div class="link"><div class="link__body"><div class="link__label">Participate</div></div></div></a><div class="dropdown dropdown--hoverable dropdown--mega"><a class="navbar__item navbar__link navbar__link--active"><div class="link"><div class="link__body"><div class="link__label">Build | Coordicide Specs</div></div></div></a><div class="dropdown__container"><div class="dropdown__menu"><div class="row row--no-gutters dropdown__row"><div class="col margin-horiz--xs dropdown__col"><div class="dropdown__label">Getting Started</div></div><div class="col margin-horiz--xs dropdown__col"><div class="dropdown__label">Chrysalis (IOTA 1.5)</div></div><div class="col margin-horiz--xs dropdown__col"><div class="dropdown__label">Libraries</div></div><div class="col margin-horiz--xs dropdown__col"><div class="dropdown__label">Smart Contracts</div></div></div><div class="row row--no-gutters dropdown__row"><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/build/welcome"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Getting Started</div><div class="link__sublabel">IOTA development basics</div></div></div></a></div><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/chrysalis-docs/welcome"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Chrysalis Docs</div><div class="link__sublabel">Mainnet documentation</div></div></div></a></div><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/iota.rs/welcome"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Client</div><div class="link__sublabel">Interact with the IOTA network</div></div></div></a></div><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/wasp/overview"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Wasp Node</div><div class="link__sublabel">Smart contract node</div></div></div></a></div></div><div class="row row--no-gutters dropdown__row"><div class="col margin-horiz--xs dropdown__col"></div><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/bee/getting_started/getting_started"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Bee Node</div><div class="link__sublabel">IOTA node written in Rust</div></div></div></a></div><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/wallet.rs/welcome"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Wallet</div><div class="link__sublabel">Build IOTA wallets</div></div></div></a></div><div class="col margin-horiz--xs dropdown__col"><div class="dropdown__label">Coordicide (IOTA 2.0)</div></div></div><div class="row row--no-gutters dropdown__row"><div class="col margin-horiz--xs dropdown__col"></div><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/hornet/welcome"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Hornet Node</div><div class="link__sublabel">IOTA node written in Go</div></div></div></a></div><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/stronghold.rs/welcome"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Stronghold</div><div class="link__sublabel">Handle secrets securely</div></div></div></a></div><div class="col margin-horiz--xs dropdown__col"><a aria-current="page" class="dropdown__link dropdown__link--active" href="/IOTA-2.0-Research-Specifications/Preface"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Coordicide Specs</div><div class="link__sublabel">Decentralizing IOTA</div></div></div></a></div></div><div class="row row--no-gutters dropdown__row"><div class="col margin-horiz--xs dropdown__col"></div><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/chronicle.rs/welcome"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Chronicle Permanode</div><div class="link__sublabel">IOTA permanode</div></div></div></a></div><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/identity.rs/introduction"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Identity</div><div class="link__sublabel">Identity framework</div></div></div></a></div><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/goshimmer/welcome"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">GoShimmer Node</div><div class="link__sublabel">IOTA 2.0 node</div></div></div></a></div></div><div class="row row--no-gutters dropdown__row"><div class="col margin-horiz--xs dropdown__col"></div><div class="col margin-horiz--xs dropdown__col"></div><div class="col margin-horiz--xs dropdown__col"><a class="dropdown__link" href="/streams/welcome"><div class="link"><div class="link__icon"></div><div class="link__body"><div class="link__label">Streams</div><div class="link__sublabel">Share data securely</div></div></div></a></div><div class="col margin-horiz--xs dropdown__col"></div></div></div></div></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog"><div class="link"><div class="link__body"><div class="link__label">Blog</div></div></div></a><a class="navbar__item navbar__link" href="/team"><div class="link"><div class="link__body"><div class="link__label">Team</div></div></div></a><div class="toggle toggle_3Zt9 toggle--checked toggle--disabled" role="button" tabindex="-1"><div class="toggle__icon toggle__icon--unchecked" style="font-family:Material Icons">dark_mode</div><div class="toggle__icon toggle__icon--checked" style="font-family:Material Icons">light_mode</div><input type="checkbox" checked="" class="toggle__screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/"><img src="/img/logo.svg" alt="IOTA Wiki Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo_dark.svg" alt="IOTA Wiki Logo" class="themedImage_1VuW themedImage--dark_hz6m"></a><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/preface">Preface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/1.1Introduction">1.1 Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/2.2MessageLayout">2.2 Message Layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/2.3StandardPayloadsLayout">2.3 Standard Payloads Layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/2.4DataFlow">2.4 Data flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/3.3PeerDiscovery">3.3 Peer Discovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/IOTA-2.0-Research-Specifications/3.4NeighborSelection">3.4 Neighbor Selection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/3.5 Manual Peering">3.5 Manual Peering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.1TheTangle">4.1 The Tangle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.2Timestamps">4.2 Timestamps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.3TipSelectionAlgorithm">4.3 Tip Selection Algorithm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.4Solidification">4.4 Solidification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.5RateControl">4.5 Rate Control through Adaptive Proof of Work</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.6CongestionControl">4.6 Congestion control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/4.7Markers">4.7 Markers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/5.1UTXO">5.1 UTXO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/5.2LedgerState">5.2 Ledger State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/5.3Mana">5.3 Mana</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/6.1ObjectsOfConsensus">6.1 Objects of Consensus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/6.2OpinionSetting">6.2 Opinion Setting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/6.3FastProbabilisticConsensus">6.3 Fast Probabilistic Consensus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/6.4Finalization">6.4 Approval Weight and Finality</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/IOTA-2.0-Research-Specifications/6.5dRNG">6.5 Distributed Random Number Generator</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>3.4 Neighbor Selection</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="341-introduction">3.4.1 Introduction<a aria-hidden="true" class="hash-link" href="#341-introduction" title="Direct link to heading">​</a></h2><p>This section defines the <em>Neighbor Selection</em> protocol, its logic and the different requests and responses exchanged between nodes.</p><p>In order for the network to work efficiently and for the nodes to be kept up-to-date about the ledger state, nodes exchange information with each other. Each node establishes a communication channel with a small subset of nodes (i.e., neighbors) via a process called <code>peering</code>. Such a process must be resilient against eclipse attacks: if all of a node’s neighbors are controlled by an attacker, then the attacker has complete control over the node’s view of the Tangle. Moreover, to prevent or limit sybil-based attacks, the neighbor selection protocol makes use of a scarce resource dubbed Consensus Mana: arbitrary nodes can be created, but it is difficult to produce high mana nodes.</p><p>Throughout this section, the terms <code>Node</code> and <code>Peer</code> are used interchangeably to refer to a <code>Node</code> device. The term <code>neighbors</code> implies a mutual relationship between two nodes put in place as a direct connection established and used by the gossip layer.</p><p>The <em>Neighbor Selection</em> specification depends on the following specifications:</p><ul><li><a href="/IOTA-2.0-Research-Specifications/3.3PeerDiscovery">3.3 - Peer discovery</a>.</li><li><a href="/IOTA-2.0-Research-Specifications/5.3Mana">5.3 - Mana</a>.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="342-detailed-design">3.4.2 Detailed Design<a aria-hidden="true" class="hash-link" href="#342-detailed-design" title="Direct link to heading">​</a></h2><p>The goal of the neighbor selection is to build a node&#x27;s neighborhood (to be used by the gossip protocol) while preventing attackers from “tricking” other nodes into becoming neighbors. Neighbors are established when one node sends a peering request to another node, which in turn accepts or rejects the request with a peering response. </p><p>To prevent attacks, the protocol makes the peering request <em>verifiably random</em> such that attackers cannot create nodes to which the target node will send requests. At its core, the neighbor selection protocol uses both a screening process called <em>Consensus Mana rank</em> and a <em>score function</em> that takes into account some randomness dubbed <em>private salt</em> and <em>public salt</em>.
Half of the neighbors will be constituted from nodes that accepted the peering request, while half will be constituted of nodes that will request for the peering. The two distinct groups of neighbors are consequently called:</p><ul><li>Chosen neighbors (outbound). The peers that the node proactively selected through the neighbor selection mechanism.</li><li>Accepted neighbors (inbound). The peers that sent the peering request to the node and were accepted as a neighbor.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="3421-local-variables">3.4.2.1 Local Variables<a aria-hidden="true" class="hash-link" href="#3421-local-variables" title="Direct link to heading">​</a></h3><p>Local variables defined here are included to help in understanding the protocol described in this section. The node application shall handle those variables in some form.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>saltUpdateInterval</code></td><td>duration</td><td>The time interval at which nodes shall update their salts.</td></tr><tr><td><code>responseTimeout</code></td><td>duration</td><td>The time that node waits for a response during one peering attempt.</td></tr><tr><td><code>requestExpirationTime</code></td><td>duration</td><td>The time used for the request timestamp validation, if the timestamp is older than this threshold the request is dropped.</td></tr><tr><td><code>maxPeeringAttempts</code></td><td>integer</td><td>The maximum number of peering requests retries sent to the selected node before the next salt update.</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="3422-node-identities">3.4.2.2 Node Identities<a aria-hidden="true" class="hash-link" href="#3422-node-identities" title="Direct link to heading">​</a></h3><p>As for the <em>peer discovery</em> protocol, every node has a cryptographic identity, a key on the Ed25519 elliptic curve. The <code>blake2b</code> hash of the public key of the peer node serves as its identifier or <code>node ID</code>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="3423-salt-generation">3.4.2.3 Salt Generation<a aria-hidden="true" class="hash-link" href="#3423-salt-generation" title="Direct link to heading">​</a></h3><p>Nodes <em>shall</em> have a public and private salt both defined as array bytes of size 20. Nodes <em>shall</em> update both their public and private salt at a common fixed time interval <code>saltUpdateInterval</code> (e.g. 3 hours).
The public salt is used for outbound peering requests, while the private salt is used during inbound peering requests.</p><p>The public salt must satisfy the following requirements:</p><ol><li>Future salts must be unguessable: mining node ids to reduce the request score <em>shall</em> be prohibitive. This offers protection for the requesting nodes.</li><li>Salts <em>must</em> be chosen in a non-arbitrary way: if adversaries may choose their salt, they could manufacture malicious requests to any node.</li></ol><p>This section proposes to set the public salts using hash chains, while private salts can be randomly generated on the fly.
The nodes shall create a hash chain <em>ζ = {ζ_0, ζ_1, ..., ζ_m}</em>  where next chain element is created by hashing the previous one: <em>ζ_{i+1} = hash(ζ_i)</em>.
Then nodes shall make public the last element <em>ζ_m</em> of their hash chain as their initial salt. Every future salt is the next element of the hash chain. Under this proposal, property 1 above holds because cryptographic hash functions are virtually irreversible.
Property 2 holds fairly well: an adversary can only choose one element of their hash chain. Indeed, an adversary can pick a number to be their 300th salt, hash it 300 times, and post that as their initial salt. However, an adversary can only do this for one round since hash functions have effectively random outputs. Thus, an adversary is limited in their ability to choose their own salt.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="3424-mana-rank-interval">3.4.2.4 Mana Rank Interval<a aria-hidden="true" class="hash-link" href="#3424-mana-rank-interval" title="Direct link to heading">​</a></h3><p>Each peer discovered and verified via the <em>Peer Discovery</em> protocol <em>shall</em> have a consensus mana value associated with it. The peer running the <em>Neighbor Selection</em> protocol <em>shall</em> keep this information up-to-date and use it to update a data structure called <code>manaRank</code> containing the list of the nodes&#x27; identities for each mana value. The aim of this ranking is to select a subset of peers having similar mana to the node preparing the ranking. More specifically, let&#x27;s define <code>potentialNeighbors</code> to be such a subset, that is divided into a <code>lower</code> and an <code>upper</code> set with respect to a <code>targetMana</code> value (i.e., the mana value of the node performing the ranking). By iterating over the <code>manaRank</code>, each node <em>shall</em> fill both the <code>lower</code> and  <code>upper</code> sets with nodes&#x27; identities having a similar rank to itself, not less/greater than a given threshold <code>rho</code> respectively, except when each subset does not reach the minimal size <code>r</code>.</p><p>The following pseudocode describes a reference implementation of this process:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Inputs: </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    manaRank: mapping between mana values and the list of nodes&#x27; identities with that mana; </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    targetMana: the mana value of the node performing the ranking;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rho: the ratio determining the length of the rank to consider;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    r: the minimum number of nodes&#x27; identities to return for both lower and upper sets;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Largest(r, targetMana): the set of r largest cMana holders less than targetMana;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Smallest(r, targetMana): the set of r smallest cMana holders greater than targetMana;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Outputs:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    potentialNeighbors: the set of nodes&#x27; identities to consider for neighbor selection;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly vbnet"><pre tabindex="0" class="prism-code language-vbnet codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">FOR mana IN manaRank</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    nodeID = manaRank[mana]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IF mana &gt; targetMana</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        IF mana / targetMana &lt; rho</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Append(upperSet, nodeID)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ELSE IF mana == 0 || mana == targetMana</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        BREAK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ELSE IF targetMana / mana &lt; rho</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Append(lowerSet, nodeID)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">IF Len(lowerSet) &lt; r</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // set lowerSet with the r largest mana holders less than targetMana</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    lowerSet = Largest(r, targetMana)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">IF Len(upperSet) &lt; r</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // set upperSet with the r smallest mana holders greater than targetMana</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    upperSet = Smallest(r, targetMana)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">potentialNeighbors = Append(upperSet, lowerSet)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RETURN potentialNeighbors</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="3425-selection">3.4.2.5 Selection<a aria-hidden="true" class="hash-link" href="#3425-selection" title="Direct link to heading">​</a></h3><p>The maximum number of neighbors is a parameter of the gossip protocol. This section proposes to use a size of 8 equally divided into 4 chosen (outbound) and 4 accepted (inbound) neighbors. It is crucial to decide on a fixed number of neighbors, as the constant number decreases an eclipse probability exponentially. The chosen <em>k</em> is a compromise between having more connections resulting in lower performance and increased protection from an eclipse attack.</p><p>The operations involved during neighbor selection are listed in the following:</p><ol><li>Get an up-to-date list of verified and known peers from the <em>Peer Discovery</em> protocol. </li><li>Use <a href="#3424-Mana-rank-interval">mana rank</a> to filter the previous list to obtain a list of peers to be potential neighbors.</li><li>Use the score function to request/accept neighbors.</li></ol><p>The score between two nodes is measured through the score function <em>s</em>, defined by:</p><p>s(nodeID1, nodeID2, salt) = hash(nodeID1 || nodeID2 || salt), where:</p><ul><li><code>nodeID1</code> and <code>nodeID2</code> are the identities of the considered nodes.</li><li><code>salt</code> is the salt value that can be private or public depending on the peering direction (inbound/outbound).</li><li><code>hash</code> is the <code>blake2b</code> hash function.</li><li><code>||</code> is the concatenation operation.</li></ul><p>Note that the value used as the score is an unsigned integer derived from the first 4 bytes of the byte array after the <code>hash</code> function.</p><p>In order to connect to new neighbors, each node with ID <code>ownID</code> and public salt <code>pubSalt</code> keeps a list of potential neighbors derived via <a href="#3424-Mana-rank-interval">Mana rank</a> that is sorted by their score <code>d(ownID, ·, pubSalt)</code>. Then, the node shall send peering requests in <em>ascending order</em>, containing its own current public salt and a timestamp representing the issuance time of the request.
The connecting node shall repeat this process until it has established connections to enough neighbors, or it finds closer peers. Those neighbors make up its list of chosen neighbors. This entire process is also illustrated in the following pseudocode:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Inputs: </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    k: desired amount of neighbors; </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    c: current list of chosen neighbors; </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    p: list of potential peers;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    localID: local nodeID </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pubSalt: local public salt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly vbnet"><pre tabindex="0" class="prism-code language-vbnet codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pSorted = SortByScoreAsc(P, localID, pubSalt)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">FOR p IN pSorted</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    peeringRequest = SendPeeringRequest(p)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IF peeringRequest.accepted </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Append(c, p)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        IF Len(c) == Ceil(k/2) </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            RETURN</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>More specifically, after sending a peering request a node <em>shall</em>:</p><ul><li>wait to get a <a href="#Peering-Response">Peering Response</a> that could be positive or negative. <ul><li>If positive, add the peer to its chosen neighbor list</li><li>If negative, filter out the peer from future requests until the next salt update or the end of the list of potential neighbors is reached.</li><li>If after <code>responseTimeout</code> no response is received, try again for a fixed <code>maxPeeringAttempts</code>. If not successful, filter out the peer from future requests until the next salt update or the end of the list of potential neighbors is reached.</li></ul></li></ul><p>Similar to the previous case, in order to accept neighbors, every node with ID ownID <em>shall</em> generate a private salt <code>privSalt</code>.</p><p>Upon reception of a <a href="#Peering-Request">Peering Request</a>, a peer <em>shall</em> make a decision to accept, reject or discard the request by:</p><ul><li>verifying that the signature of the <a href="#Peering-Request">Peering Request</a> is valid and discard the request otherwise;</li><li>checking that the <code>timestamp</code> field is valid (i.e., not older than a given threshold <code>requestExpirationTime</code> specified by the node) and discard the request otherwise;</li><li>checking that the <em>mana</em> of the requester peer is within the own <a href="#3424-Mana-rank-interval">Mana rank</a> and send back a <em>negative</em> <a href="#Peering-Response">Peering Response</a> otherwise;</li><li>checking that the requestor salt matches its hash chain by:<ul><li>taking the difference between the timestamp of the peering request and the time the initial salt was set, and then dividing this number by <code>saltUpdateInterval</code>, rounding down;</li><li>hashing the requester public salt as many times as the number of salt changes;</li><li>finally, if the result does not match the initial salt, discard the peering request;</li></ul></li><li>applying a statistical test to the request defined as <em>s(remoteID, ownID, ζ_remote) &lt; θ</em> for a fixed threshold θ, and discard it otherwise; <ul><li>this test determines the effectiveness of the brute force attack when an attacker tries to establish a connection with a desired peer;</li><li>with θ set to 0.01 an attacker has only 1% of chance of being successful;</li></ul></li><li>accept the peering request by sending back a <em>positive</em> <a href="#Peering-Response">Peering Response</a> if either one of the following conditions is satisfied, and send back a <em>negative</em> <a href="#Peering-Response">Peering Response</a> otherwise:<ul><li>the current size of the accepted neighbors list is smaller than <em>Floor(k/2)</em>; </li><li>the score defined as <em>s(ownID, remoteID, privSalt)</em> is lower than the current highest score among accepted neighbors. In this case, send a <a href="#Peering-Drop">Peering Drop</a> to drop the accepted neighbor with the highest score replaced by the requester peer. </li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="3426-neighbor-removal">3.4.2.6 Neighbor Removal<a aria-hidden="true" class="hash-link" href="#3426-neighbor-removal" title="Direct link to heading">​</a></h3><p>Neighbor removal can occur for several reasons:</p><ul><li>A node is replacing a neighbor with a better (in terms of score function) one;</li><li>From the gossip layer, the connection with a neighbor is lost;</li><li>If some form of reputation or bad behavior is being monitored, a neighbor could be dropped in case of misbehavior. For example, a node could respond to the peering request but choose not to gossip received messages.</li></ul><p>Independently of the reason, when a peer drops a neighbor <em>shall</em> send a <a href="#Peering-Drop">Peering Drop</a> and remove the neighbor from its requested/accepted neighbor list. Upon reception of a <a href="#Peering-Drop">Peering Drop</a>, the peer <em>shall</em> remove the dropping neighbor from its requested/accepted neighbor list.</p><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="3427-requests-and-responses">3.4.2.7 Requests and Responses<a aria-hidden="true" class="hash-link" href="#3427-requests-and-responses" title="Direct link to heading">​</a></h3><p>Each <em>peering request, response, drop</em> <em>shall</em> be encapsulated into a <code>data</code> field of a generic <code>Request</code> and <code>Response</code>. Its <code>type</code> <em>shall</em> be specified in the <code>type</code> field and signed with the ed25519 private key of the sender&#x27;s <a href="#3422-Node-identities">identity</a> and contain the related public key to allow the receiver to verify the signature. All the received <em>peering request, response, drop</em> <em>shall</em> be verified and those with invalid signatures be discarded.</p><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="request-and-response-layout">Request and Response Layout<a aria-hidden="true" class="hash-link" href="#request-and-response-layout" title="Direct link to heading">​</a></h4><table><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>type</td><td>uint8</td><td>Defines the type of the request or response.</td></tr><tr><td>data</td><td>ByteArray</td><td>Contains the payload of the request or response (e.g., a PeeringRequest).</td></tr><tr><td>public_key</td><td>ByteArray[32]</td><td>The ed25519 public key of the peer&#x27;s identity used to verify its signatures.</td></tr><tr><td>signature</td><td>ByteArray[32]</td><td>The ed25519 signature of the `data` field, signed by using the private key of the peer&#x27;s identity.</td></tr></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="peering-request">Peering Request<a aria-hidden="true" class="hash-link" href="#peering-request" title="Direct link to heading">​</a></h4><table><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>timestamp</td><td>time</td><td>The unix timestamp of the PeeringRequest.</td></tr><tr><td>salt</td><td>ByteArray[20]</td><td>The public salt of the requester.</td></tr></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="peering-response">Peering Response<a aria-hidden="true" class="hash-link" href="#peering-response" title="Direct link to heading">​</a></h4><table><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>req_hash</td><td>ByteArray[32]</td><td>The blake2b digest of the corresponding received PeeringRequest.</td></tr><tr><td>status</td><td>bool</td><td>The response (true or false) of the PeeringRequest.</td></tr></table><h4 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="peering-drop">Peering Drop<a aria-hidden="true" class="hash-link" href="#peering-drop" title="Direct link to heading">​</a></h4><table><tr><th>Name</th><th>Type</th><th>Description</th></tr><tr><td>timestamp</td><td>time</td><td>The unix timestamp of the drop.</td></tr></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/iotaledger/IOTA-2.0-Research-Specifications/edit/docusaurus/docs/3.4NeighborSelection.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/IOTA-2.0-Research-Specifications/3.3PeerDiscovery"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->3.3 Peer Discovery</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/IOTA-2.0-Research-Specifications/3.5 Manual Peering"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">3.5 Manual Peering<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#341-introduction" class="table-of-contents__link toc-highlight">3.4.1 Introduction</a></li><li><a href="#342-detailed-design" class="table-of-contents__link toc-highlight">3.4.2 Detailed Design</a><ul><li><a href="#3421-local-variables" class="table-of-contents__link toc-highlight">3.4.2.1 Local Variables</a></li><li><a href="#3422-node-identities" class="table-of-contents__link toc-highlight">3.4.2.2 Node Identities</a></li><li><a href="#3423-salt-generation" class="table-of-contents__link toc-highlight">3.4.2.3 Salt Generation</a></li><li><a href="#3424-mana-rank-interval" class="table-of-contents__link toc-highlight">3.4.2.4 Mana Rank Interval</a></li><li><a href="#3425-selection" class="table-of-contents__link toc-highlight">3.4.2.5 Selection</a></li><li><a href="#3426-neighbor-removal" class="table-of-contents__link toc-highlight">3.4.2.6 Neighbor Removal</a></li><li><a href="#3427-requests-and-responses" class="table-of-contents__link toc-highlight">3.4.2.7 Requests and Responses</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer padding--none"><div class="container"><div class="row footer__links padding-vert--xl"><div class="col footer__col"><h4 class="footer__title">LEARN</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/learn/about-iota/an-introduction-to-iota">About IOTA</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/iota-token/buying-iota">IOTA Token</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/wallets/what-is-a-wallet">Wallets</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/networks/iota-1.5-chrysalis">Networks</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/resource-materials/glossary">Resource Materials</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/research/research-outline">Research</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/future/future-of-iota">Future of IOTA</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">PARTICIPATE</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/participate/support-the-network/about-nodes">Support the network</a></li><li class="footer__item"><a class="footer__link-item" href="/participate/the-community/discord">The Community</a></li><li class="footer__item"><a href="https://www.iota.org/solutions/partnerships" target="_blank" rel="noopener noreferrer" class="footer__link-item">Partnerships</a></li><li class="footer__item"><a class="footer__link-item" href="/participate/funding/edf-funding">Funding</a></li><li class="footer__item"><a class="footer__link-item" href="/participate/use-cases/industry-applications">Use Cases</a></li><li class="footer__item"><a class="footer__link-item" href="/participate/frameworks/introduction">Frameworks</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">BUILD</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/build/welcome">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/build/fundamentals/cryptography">Fundamentals</a></li><li class="footer__item"><a class="footer__link-item" href="/build/exchange-integration/exchange-integration-guide">Exchange Integration</a></li><li class="footer__item"><a class="footer__link-item" href="/build/tutorials/twitch">Tutorials</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">WIKI</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/team">Team</a></li><li class="footer__item"><a href="https://github.com/iota-community/iota-wiki" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://github.com/jlvandenhout/docusaurus-plugin-docs-editor" target="_blank" rel="noopener noreferrer" class="footer__link-item">Editor Github</a></li><li class="footer__item"><a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/participate/contribute-to-wiki/welcome">Contribute</a></li></ul></div></div><div class="footer__bottom padding-bottom--xl"><div><a href="https://www.iota.org" target="_blank" rel="noopener noreferrer"><img src="/img/iota_logo.svg" alt="IOTA Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/iota_logo.svg" alt="IOTA Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">© 2021 IOTA Wiki. Built with Docusaurus.</div></div></div><div class="social"><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:var(--ifm-color-gray-900)" href="https://www.youtube.com/c/iotafoundation"><div class="social__font social__icon"></div><div class="social__title">Youtube</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#2C3850" href="https://www.github.com/iotaledger/"><div class="social__font social__icon"></div><div class="social__title">GitHub</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#4B576F" href="https://discord.iota.org/"><div class="social__font social__icon"></div><div class="social__title">Discord</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#6A768E" href="https://www.twitter.com/iota/"><div class="social__font social__icon"></div><div class="social__title">Twitter</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#7D89A1" href="https://www.reddit.com/r/iota/"><div class="social__font social__icon"></div><div class="social__title">Reddit</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#8995AD" href="https://www.linkedin.com/company/iotafoundation/"><div class="social__font social__icon"></div><div class="social__title">Linkedin</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#99A5BD" href="https://www.instagram.com/iotafoundation/"><div class="social__font social__icon"></div><div class="social__title">Instagram</div></a><a class="social__link padding-horiz--sm padding-vert--md" style="background-color:#BAC6DE" href="https://www.facebook.com/TheIOTAFoundation/"><div class="social__font social__icon"></div><div class="social__title">Facebook</div></a></div></footer></div>
<script src="/assets/js/runtime~main.126de949.js"></script>
<script src="/assets/js/main.373e6c57.js"></script>
</body>
</html>