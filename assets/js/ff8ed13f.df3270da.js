"use strict";(self.webpackChunkiota_wiki=self.webpackChunkiota_wiki||[]).push([[56524],{75097:function(t,e,a){a.r(e),a.d(e,{frontMatter:function(){return i},contentTitle:function(){return p},metadata:function(){return o},toc:function(){return d},default:function(){return s}});var n=a(74034),r=a(79973),l=(a(67294),a(3905)),m=["components"],i={},p="WasmLib Data Types",o={unversionedId:"guide/schema/types",id:"guide/schema/types",isDocsHomePage:!1,title:"WasmLib Data Types",description:"When creating smart contracts you will want to manipulate some data. WasmLib provides",source:"@site/external/wasp/documentation/docs/guide/schema/types.mdx",sourceDirName:"guide/schema",slug:"/guide/schema/types",permalink:"/wasp/guide/schema/types",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Data Access Proxies",permalink:"/wasp/guide/schema/proxies"},next:{title:"Function Call Context",permalink:"/wasp/guide/schema/context"}},d=[],u={toc:d};function s(t){var e=t.components,a=(0,r.Z)(t,m);return(0,l.kt)("wrapper",(0,n.Z)({},u,a,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"wasmlib-data-types"},"WasmLib Data Types"),(0,l.kt)("p",null,"When creating smart contracts you will want to manipulate some data. WasmLib provides\ndirect support for the following value data types:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Int16")," - 16-bit signed integer value."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Int32")," - 32-bit signed integer value."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Int64")," - 64-bit signed integer value."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Bytes")," - An arbitrary-length byte array."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"String")," - An UTF-8 encoded string value.")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Address")," - A 33-byte Tangle address."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AgentID")," - A 37-byte ISCP Agent ID."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ChainID")," - A 33-byte ISCP Chain ID."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Color")," - A 32-byte token color ID."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ContractID")," - A 37-byte ISCP smart contract ID."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Hash")," - A 32-byte hash value."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Hname")," - A 4-byte unsigned integer hash value derived from a name string."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"RequestID")," - A 34-byte transaction request ID.")),(0,l.kt)("p",null,"The first group consists of the basic value data types that are found in all programming\nlanguages, whereas the second group consists of WasmLib versions of ISCP-specific value\ndata types. More detailed explanations about their specific uses can be found in the\n",(0,l.kt)("a",{parentName:"p",href:"https://github.com/iotaledger/wasp/blob/develop/documentation/docs/misc/coretypes.md"},"documentation of the ISCP"),"\n. WasmLib provides its own implementations for each of the ISCP value data types. They can\nall be serialized into and deserialized from a byte array. Each value data type can also\nbe used as a key in key/value maps."),(0,l.kt)("p",null,"WasmLib implements value ",(0,l.kt)("a",{parentName:"p",href:"/wasp/guide/schema/proxies"},"proxies")," for each value type. WasmLib also\nimplements a set of container proxies. There is a map proxy that allows the value types to\nbe used as key and/or stored value. There are also array proxies for arrays of each of\nthese value types and for arrays of maps."),(0,l.kt)("p",null,"Another thing we need to consider is that some data provided by the host is mutable,\nwhereas other data may be immutable. To facilitate this distinction, each proxy type comes\nin two flavors that reflect this and makes sure the data can only be used as intended. The\nrule is that from an immutable container proxy you can only derive immutable container and\nvalue proxies. The referenced data can never be changed through immutable proxies.\nSeparating these constraints for types into separate proxy types allows us to use\ncompile-time type-checking to enforce these constraints. The ISCP sandbox will also check\nthese constraints at runtime on the host to guard against client code that tries to bypass\nthem."),(0,l.kt)("p",null,"Here is the full matrix of WasmLib types (excluding array proxies):"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"ISCP type"),(0,l.kt)("th",{parentName:"tr",align:null},"WasmLib type"),(0,l.kt)("th",{parentName:"tr",align:null},"Mutable proxy"),(0,l.kt)("th",{parentName:"tr",align:null},"Immutable proxy"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Bytes"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("em",{parentName:"td"},"byte array")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Bytes")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Bytes"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Int16"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("em",{parentName:"td"},"16-bit integer")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Int16")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Int16"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Int32"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("em",{parentName:"td"},"32-bit integer")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Int32")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Int32"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Int64"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("em",{parentName:"td"},"64-bit integer")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Int64")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Int64"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("em",{parentName:"td"},"UTF-8 string")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"String"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Address"),(0,l.kt)("td",{parentName:"tr",align:null},"Sc",(0,l.kt)("strong",{parentName:"td"},"Address")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Address")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Address"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"AgentId"),(0,l.kt)("td",{parentName:"tr",align:null},"Sc",(0,l.kt)("strong",{parentName:"td"},"AgentId")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"AgentId")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"AgentId"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ChainId"),(0,l.kt)("td",{parentName:"tr",align:null},"Sc",(0,l.kt)("strong",{parentName:"td"},"ChainId")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"ChainId")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"ChainId"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Color"),(0,l.kt)("td",{parentName:"tr",align:null},"Sc",(0,l.kt)("strong",{parentName:"td"},"Color")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Color")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Color"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ContractId"),(0,l.kt)("td",{parentName:"tr",align:null},"Sc",(0,l.kt)("strong",{parentName:"td"},"ContractId")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"ContractId")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"ContractId"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"HName"),(0,l.kt)("td",{parentName:"tr",align:null},"Sc",(0,l.kt)("strong",{parentName:"td"},"HName")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"HName")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"HName"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Hash"),(0,l.kt)("td",{parentName:"tr",align:null},"Sc",(0,l.kt)("strong",{parentName:"td"},"Hash")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Hash")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Hash"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Map"),(0,l.kt)("td",{parentName:"tr",align:null},"Sc",(0,l.kt)("strong",{parentName:"td"},"Map")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Map")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Map"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RequestId"),(0,l.kt)("td",{parentName:"tr",align:null},"Sc",(0,l.kt)("strong",{parentName:"td"},"RequestId")),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"RequestId")),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"RequestId"))))),(0,l.kt)("p",null,"Note how consistent naming makes it easy to remember the type names and how Bytes, Int16,\nInt32, Int64, and String are the odd ones out. They are implemented in WasmLib by the\nclosest equivalents in the chosen implementation programming language."),(0,l.kt)("p",null,"Here is the full matrix of WasmLib types for array proxies:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"ISCP type"),(0,l.kt)("th",{parentName:"tr",align:null},"Mutable array proxy"),(0,l.kt)("th",{parentName:"tr",align:null},"Immutable array proxy"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Bytes"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Bytes"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Bytes"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Int16"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Int16"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Int16"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Int32"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Int32"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Int32"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Int64"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Int64"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Int64"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"String"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"String"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Address"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Address"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Address"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"AgentId"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"AgentId"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"AgentId"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ChainId"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"ChainId"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"ChainId"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Color"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Color"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Color"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ContractId"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"ContractId"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"ContractId"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"HName"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"HName"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"HName"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Hash"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Hash"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Hash"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Map"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"Map"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"Map"),"Array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"RequestId"),(0,l.kt)("td",{parentName:"tr",align:null},"ScMutable",(0,l.kt)("strong",{parentName:"td"},"RequestId"),"Array"),(0,l.kt)("td",{parentName:"tr",align:null},"ScImmutable",(0,l.kt)("strong",{parentName:"td"},"RequestId"),"Array")))),(0,l.kt)("p",null,"Again, consistency in naming makes them easy to remember."),(0,l.kt)("p",null,"In the next section we will show how the WasmLib types can be used in smart contract code."))}s.isMDXComponent=!0},3905:function(t,e,a){a.d(e,{Zo:function(){return d},kt:function(){return k}});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var p=n.createContext({}),o=function(t){var e=n.useContext(p),a=e;return t&&(a="function"==typeof t?t(e):m(m({},e),t)),a},d=function(t){var e=o(t.components);return n.createElement(p.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},s=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,p=t.parentName,d=i(t,["components","mdxType","originalType","parentName"]),s=o(a),k=r,g=s["".concat(p,".").concat(k)]||s[k]||u[k]||l;return a?n.createElement(g,m(m({ref:e},d),{},{components:a})):n.createElement(g,m({ref:e},d))}));function k(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,m=new Array(l);m[0]=s;var i={};for(var p in e)hasOwnProperty.call(e,p)&&(i[p]=e[p]);i.originalType=t,i.mdxType="string"==typeof t?t:r,m[1]=i;for(var o=2;o<l;o++)m[o]=a[o];return n.createElement.apply(null,m)}return n.createElement.apply(null,a)}s.displayName="MDXCreateElement"}}]);